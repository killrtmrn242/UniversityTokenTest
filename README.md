
# UniversityTokenTest

## Описание проекта

Этот проект представляет собой реализацию смарт-контракта ERC20-токена с дополнительными пользовательскими функциями. Контракт позволяет:

1. Создавать токены с начальным предложением (`initialSupply`).
2. Переводить токены между аккаунтами.
3. Получать информацию об отправителе транзакции.
4. Отслеживать дату последней транзакции для каждого аккаунта.

Проект включает два типа функциональности:
- **Initial version**: базовая реализация ERC20-токена.
- **Modified version**: дополнительные пользовательские функции, такие как `getTransactionSender` и `getLastTransactionTimestamp`.

---

## Содержание

1. [Требования](#требования)
2. [Установка](#установка)
3. [Запуск тестов](#запуск-тестов)
4. [Описание тестов](#описание-тестов)
   - [Initial Version Tests](#initial-version-tests)
   - [Modified Version Tests](#modified-version-tests)
5. [Как отличить initial и modified](#как-отличить-initial-и-modified)
6. [Структура проекта](#структура-проекта)

---

## Требования

Для работы с этим проектом вам потребуется:

- Node.js (версия 16 или выше)
- npm (версия 7 или выше)
- Hardhat (фреймворк для разработки смарт-контрактов)

---

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/your-repo/universitytoken.git
   cd universitytoken
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Проверьте установленные зависимости:
   ```bash
   npm list --depth=0
   ```

---

## Запуск тестов

Чтобы запустить тесты, выполните команду:

```bash
npm test
```

Тесты проверяют как базовую функциональность контракта (**initial version**), так и дополнительные пользовательские функции (**modified version**).

---

## Описание тестов

### Initial Version Tests

Эти тесты проверяют базовую функциональность ERC20-токена:

#### Deployment
- **"Должен назначить владельца"**:
  - Проверяет, что владелец контракта правильно назначен.
- **"Должен инициализировать totalSupply значением initialSupply"**:
  - Проверяет, что общий запас токенов (`totalSupply`) равен начальному количеству (`initialSupply`).
- **"Должен назначить initialSupply владельцу"**:
  - Проверяет, что все токены из начального предложения были переданы владельцу контракта.

#### Transactions
- **"Должен переводить токены между аккаунтами"**:
  - Проверяет, что токены можно успешно перевести от одного аккаунта к другому.
- **"Должен выбрасывать ошибку при переводе больше, чем баланс"**:
  - Проверяет, что контракт корректно обрабатывает попытки перевода большего количества токенов, чем есть на балансе.

---

### Modified Version Tests

Эти тесты проверяют дополнительные пользовательские функции, добавленные в модифицированной версии контракта:

#### Custom Functions
- **"Должен возвращать отправителя транзакции"**:
  - Проверяет функцию `getTransactionSender`, которая возвращает адрес отправителя транзакции.
- **"Должен выбрасывать ошибку, если у аккаунта нет токенов"**:
  - Проверяет, что функция `getTransactionSender` выбрасывает ошибку, если у аккаунта нет токенов.
- **"Должен выбрасывать ошибку, если транзакций не было"**:
  - Проверяет, что функция `getLastTransactionTimestamp` выбрасывает ошибку, если для аккаунта не было записано ни одной транзакции.

---

## Как отличить initial и modified

- **Initial version** включает базовые функции ERC20:
  - Создание токенов.
  - Перевод токенов.
  - Проверка баланса.

- **Modified version** добавляет пользовательские функции:
  - `getTransactionSender`: возвращает адрес отправителя транзакции.
  - `getLastTransactionTimestamp`: возвращает дату последней транзакции для аккаунта.

---

## Структура проекта

```
UniversityTokenTest/
├── contracts/               # Исходный код смарт-контракта
│   └── UniversityToken.sol  # Основной контракт
├── test/                    # Тесты
│   └── UniversityToken.test.js # Тесты для контракта
├── scripts/                 # Скрипты для деплоя
├── hardhat.config.js        # Конфигурация Hardhat
├── package.json             # Зависимости проекта
└── README.md                # Документация проекта
```

